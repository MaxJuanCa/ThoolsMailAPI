{"ast":null,"code":"const sgMail = require('@sendgrid/mail');\n\nexport default async function (req, res) {\n  sgMail.setApiKey(process.env.SENDGRID_API_KEY);\n  const {\n    email,\n    message\n  } = req.body;\n  const content = {\n    to: 'juankamilo@gmail.com',\n    from: email,\n    subject: `New Message From - ${email}`,\n    text: message,\n    html: `<p>${message}</p>`\n  };\n\n  try {\n    await sgMail.send(content);\n    res.status(200).send('Message sent successfully.');\n  } catch (error) {\n    console.log('ERROR', error);\n    res.status(400).send('Message not sent.');\n  }\n}","map":{"version":3,"sources":["C:/Users/Juan/Desktop/Proyectos/Thools/ThoolsMailAPI/pages/api/send.js"],"names":["sgMail","require","req","res","setApiKey","process","env","SENDGRID_API_KEY","email","message","body","content","to","from","subject","text","html","send","status","error","console","log"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,gBAAD,CAAtB;;AAEA,eAAe,gBAAgBC,GAAhB,EAAqBC,GAArB,EAA0B;AACrCH,EAAAA,MAAM,CAACI,SAAP,CAAiBC,OAAO,CAACC,GAAR,CAAYC,gBAA7B;AAEA,QAAM;AACFC,IAAAA,KADE;AAEFC,IAAAA;AAFE,MAGFP,GAAG,CAACQ,IAHR;AAKA,QAAMC,OAAO,GAAG;AACZC,IAAAA,EAAE,EAAE,sBADQ;AAEZC,IAAAA,IAAI,EAAEL,KAFM;AAGZM,IAAAA,OAAO,EAAG,sBAAqBN,KAAM,EAHzB;AAIZO,IAAAA,IAAI,EAAEN,OAJM;AAKZO,IAAAA,IAAI,EAAG,MAAKP,OAAQ;AALR,GAAhB;;AAQA,MAAI;AACA,UAAMT,MAAM,CAACiB,IAAP,CAAYN,OAAZ,CAAN;AACAR,IAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBD,IAAhB,CAAqB,4BAArB;AACH,GAHD,CAGE,OAAOE,KAAP,EAAc;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;AACAhB,IAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBD,IAAhB,CAAqB,mBAArB;AACH;AACJ","sourcesContent":["const sgMail = require('@sendgrid/mail')\r\n\r\nexport default async function (req, res) {\r\n    sgMail.setApiKey(process.env.SENDGRID_API_KEY)\r\n\r\n    const {\r\n        email,\r\n        message\r\n    } = req.body\r\n\r\n    const content = {\r\n        to: 'juankamilo@gmail.com',\r\n        from: email,\r\n        subject: `New Message From - ${email}`,\r\n        text: message,\r\n        html: `<p>${message}</p>`\r\n    }\r\n\r\n    try {\r\n        await sgMail.send(content)\r\n        res.status(200).send('Message sent successfully.')\r\n    } catch (error) {\r\n        console.log('ERROR', error)\r\n        res.status(400).send('Message not sent.')\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}